<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referência de Pulsos para Medição com OTDR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #1abc9c;
            --bg-color: #f5f7fa;
            --text-color: #333;
            --card-bg: white;
            --border-color: #ddd;
            --header-bg: #2c3e50;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .logo-icon {
            font-size: 2rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .content {
            padding: 20px 0;
        }
        
        .intro {
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--primary);
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }
        
        .control-group {
            flex: 1;
            min-width: 250px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        
        select, input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
            margin-top: 28px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background-color: var(--dark);
        }
        
        .results {
            margin-top: 30px;
        }
        
        .pulse-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: var(--card-bg);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }
        
        .pulse-table th {
            background-color: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .pulse-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .pulse-table tr:nth-child(even) {
            background-color: var(--light);
        }
        
        .pulse-table tr:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .recommendation {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--info);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #666;
            border-top: 1px solid var(--border-color);
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
        }

        .info-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .card {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }
        
        .card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .card ul {
            padding-left: 20px;
        }
        
        .card li {
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .section-title {
            color: var(--primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--dark);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon"><i class="fas fa-satellite-dish"></i></span>
                    <div>
                        <h1>Referência de Pulsos para Medição com OTDR</h1>
                        <p class="subtitle">Configurações de pulso por distância para medições precisas</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="content">
            <div class="intro">
                <h2 class="section-title"><i class="fas fa-info-circle"></i> O que é um OTDR?</h2>
                <p>O OTDR (Optical Time Domain Reflectometer) é um instrumento de teste de fibra óptica que utiliza a técnica de reflectometria no domínio do tempo para caracterizar uma fibra óptica. A duração do pulso é um parâmetro crítico que afeta a resolução e o alcance da medição.</p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="distance"><i class="fas fa-ruler"></i> Distância da Fibra (km):</label>
                    <input type="number" id="distance" min="0" max="200" value="0">
                </div>
                
                <div class="control-group">
                    <label for="fiberType"><i class="fas fa-fiber"></i> Tipo de Fibra:</label>
                    <select id="fiberType">
                        <option value="smf" selected>SMF (Single Mode Fiber)</option>
                        <option value="mmf">MMF (Multi Mode Fiber)</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="wavelength"><i class="fas fa-wave-square"></i> Comprimento de Onda (nm):</label>
                    <select id="wavelength">
                        <option value="1310">1310 nm</option>
                        <option value="1550" selected>1550 nm</option>
                        <option value="1625">1625 nm</option>
                        <option value="850">850 nm (MMF)</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="resolution"><i class="fas fa-sliders-h"></i> Resolução Desejada:</label>
                    <select id="resolution">
                        <option value="high" selected>Alta Resolução</option>
                        <option value="standard">Resolução Padrão</option>
                        <option value="longRange">Longo Alcance</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <button id="calculate" class="btn-primary"><i class="fas fa-calculator"></i> Calcular Configurações</button>
                </div>
            </div>
            
            <div class="results">
                <h2 class="section-title"><i class="fas fa-table"></i> Configurações Recomendadas</h2>
                <table class="pulse-table">
                    <thead>
                        <tr>
                            <th>Distância (km)</th>
                            <th>Largura de Pulso (ns)</th>
                            <th>Resolução de Eventos (m)</th>
                            <th>Alcance Dinâmico (dB)</th>
                            <th>Observações</th>
                        </tr>
                    </thead>
                    <tbody id="pulseData">
                        <!-- Os dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="recommendation">
                <h3 class="section-title"><i class="fas fa-lightbulb"></i> Recomendações para Medição</h3>
                <p id="recommendationText">Selecione os parâmetros e clique em "Calcular Configurações" para obter recomendações específicas para sua medição.</p>
            </div>

            <div class="info-cards">
                <div class="card">
                    <h3><i class="fas fa-tips"></i> Dicas para Medição com OTDR</h3>
                    <ul>
                        <li>Use pulsos curtos para distâncias curtas e alta resolução</li>
                        <li>Pulsos longos aumentam o alcance, mas reduzem a resolução</li>
                        <li>Calibre o OTDR regularmente para medições precisas</li>
                        <li>Utilize o comprimento de onda apropriado para o tipo de fibra</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-exclamation-triangle"></i> Fatores que Afetam a Medição</h3>
                    <ul>
                        <li>Atenuação da fibra</li>
                        <li>Emendas e conectores</li>
                        <li>Dobras na fibra</li>
                        <li>Qualidade dos componentes ópticos</li>
                        <li>Temperatura e condições ambientais</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-chart-line"></i> Interpretação de Resultados</h3>
                    <ul>
                        <li>Picos representam reflexões (conectores, emendas ruins)</li>
                        <li>Quedas representam atenuação (emendas, dobras)</li>
                        <li>Ruído no final do traço indica fim da fibra</li>
                        <li>Compare sempre com traços de referência</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Referência de Pulsos para OTDR &copy; 2023 - Para uso em medições de fibra óptica</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculate');
            const distanceInput = document.getElementById('distance');
            const fiberTypeSelect = document.getElementById('fiberType');
            const wavelengthSelect = document.getElementById('wavelength');
            const resolutionSelect = document.getElementById('resolution');
            const pulseDataBody = document.getElementById('pulseData');
            const recommendationText = document.getElementById('recommendationText');
            
            // Atualizar opções de comprimento de onda baseadas no tipo de fibra
            fiberTypeSelect.addEventListener('change', function() {
                if (this.value === 'mmf') {
                    wavelengthSelect.innerHTML = '<option value="850">850 nm (MMF)</option><option value="1310">1310 nm</option>';
                } else {
                    wavelengthSelect.innerHTML = '<option value="1310">1310 nm</option><option value="1550" selected>1550 nm</option><option value="1625">1625 nm</option>';
                }
            });
            
            // Calcular configurações quando o botão for clicado
            calculateBtn.addEventListener('click', calculatePulseSettings);
            
            // Calcular configurações iniciais
            calculatePulseSettings();
            
            function calculatePulseSettings() {
                const distance = parseInt(distanceInput.value);
                const fiberType = fiberTypeSelect.value;
                const wavelength = parseInt(wavelengthSelect.value);
                const resolution = resolutionSelect.value;
                
                // Limpar dados anteriores
                pulseDataBody.innerHTML = '';
                
                // Gerar dados baseados nos parâmetros
                const pulseSettings = generatePulseSettings(distance, fiberType, wavelength, resolution);
                
                // Preencher tabela
                pulseSettings.forEach(setting => {
                    const row = document.createElement('tr');
                    
                    row.innerHTML = `
                        <td>${setting.distance}</td>
                        <td>${setting.pulseWidth}</td>
                        <td>${setting.eventResolution}</td>
                        <td>${setting.dynamicRange}</td>
                        <td>${setting.notes}</td>
                    `;
                    
                    pulseDataBody.appendChild(row);
                });
                
                // Atualizar recomendações
                updateRecommendations(distance, fiberType, wavelength, resolution);
            }
            
            function generatePulseSettings(distance, fiberType, wavelength, resolution) {
                const settings = [];
                
                // Lógica para gerar configurações baseadas nos parâmetros
                if (distance <= 10) {
                    settings.push(
                        { distance: "Até 5 km", pulseWidth: "10 ns", eventResolution: "1 m", dynamicRange: "20 dB", notes: "Alta resolução para curtas distâncias" },
                        { distance: "5-10 km", pulseWidth: "30 ns", eventResolution: "3 m", dynamicRange: "24 dB", notes: "Balanço entre resolução e alcance" }
                    );
                } else if (distance <= 50) {
                    settings.push(
                        { distance: "10-25 km", pulseWidth: "100 ns", eventResolution: "10 m", dynamicRange: "28 dB", notes: "Configuração padrão para redes metropolitanas" },
                        { distance: "25-50 km", pulseWidth: "300 ns", eventResolution: "30 m", dynamicRange: "32 dB", notes: "Maior alcance com resolução moderada" }
                    );
                } else {
                    settings.push(
                        { distance: "50-100 km", pulseWidth: "1 μs", eventResolution: "100 m", dynamicRange: "36 dB", notes: "Para links de longa distância" },
                        { distance: "100+ km", pulseWidth: "10 μs", eventResolution: "1 km", dynamicRange: "40 dB", notes: "Máximo alcance, baixa resolução" }
                    );
                }
                
                // Ajustes baseados na resolução selecionada
                if (resolution === 'high') {
                    settings.forEach(setting => {
                        setting.pulseWidth = reducePulseWidth(setting.pulseWidth);
                        setting.eventResolution = improveResolution(setting.eventResolution);
                        setting.notes += " (Alta Resolução)";
                    });
                } else if (resolution === 'longRange') {
                    settings.forEach(setting => {
                        setting.pulseWidth = increasePulseWidth(setting.pulseWidth);
                        setting.dynamicRange = increaseDynamicRange(setting.dynamicRange);
                        setting.notes += " (Longo Alcance)";
                    });
                }
                
                return settings;
            }
            
            function reducePulseWidth(pulseWidth) {
                if (pulseWidth.includes("ns")) {
                    const value = parseInt(pulseWidth);
                    return Math.max(1, value / 2) + " ns";
                } else if (pulseWidth.includes("μs")) {
                    const value = parseInt(pulseWidth);
                    return Math.max(100, value / 2) + " ns";
                }
                return pulseWidth;
            }
            
            function improveResolution(resolution) {
                const value = parseInt(resolution);
                return Math.max(1, value / 2) + " m";
            }
            
            function increasePulseWidth(pulseWidth) {
                if (pulseWidth.includes("ns")) {
                    const value = parseInt(pulseWidth);
                    return value * 2 + " ns";
                } else if (pulseWidth.includes("μs")) {
                    const value = parseInt(pulseWidth);
                    return value * 2 + " μs";
                }
                return pulseWidth;
            }
            
            function increaseDynamicRange(dynamicRange) {
                const value = parseInt(dynamicRange);
                return (value + 2) + " dB";
            }
            
            function updateRecommendations(distance, fiberType, wavelength, resolution) {
                let recommendation = "";
                
                if (distance <= 10) {
                    recommendation = "Para distâncias curtas (até 10 km), recomenda-se o uso de pulsos curtos (10-30 ns) para alta resolução na detecção de eventos próximos. ";
                } else if (distance <= 50) {
                    recommendation = "Para distâncias médias (10-50 km), utilize pulsos de 100-300 ns para um bom equilíbrio entre resolução e alcance. ";
                } else {
                    recommendation = "Para distâncias longas (acima de 50 km), pulsos mais longos (1-10 μs) são necessários para alcançar o fim da fibra, mas com resolução reduzida. ";
                }
                
                if (fiberType === 'smf') {
                    recommendation += "Para fibra monomodo, o comprimento de onda de 1550 nm geralmente oferece menor atenuação. ";
                } else {
                    recommendation += "Para fibra multimodo, utilize preferencialmente 850 nm para melhor desempenho. ";
                }
                
                if (resolution === 'high') {
                    recommendation += "Configuração de alta resolução selecionada - ideal para localização precisa de eventos próximos. ";
                } else if (resolution === 'longRange') {
                    recommendation += "Configuração de longo alcance selecionada - ideal para medições em fibras longas. ";
                } else {
                    recommendation += "Configuração padrão selecionada - bom equilíbrio entre resolução e alcance para a maioria das aplicações. ";
                }
                
                recommendationText.textContent = recommendation;
            }
        });
    </script>
</body>
</html>